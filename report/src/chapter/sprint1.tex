\chapter{Sprint 1}
\section{Planning}
We started the sprint with a sprint planning meeting September 24th. The plan for this sprint is to implement a basic implementation of the system, so that we have something to show the customer at the end of the sprint. We chose user stories from the backlog that would enable us to this, a client and server offering only the most basic operations. 

\subsection{Duration}
This sprint started on September 24th and will last for two weeks. A customer demo will be held at October 04th to show of what we have achieved during the sprint and to ensure that the customer agrees with the implementation.

\subsection{Sprint Goal}
The goal for the first sprint is to get a basic version of the library application working. This includes creating a basic GUI with both the graphical web- application and the console side by side, creating a server capable of storing objects and establish communication between the server and client through a basic REST api. The user should be able to use both the web- application and the console to add a new book to the system and to list the books currently in the system. In addition we decided to implement the real- time messaging from the server to the clients to verify that the solution we chose in the pre- study would be up to the task.

\subsection{User stories}
The user stories we chose to implement in this sprint with their estimated workload is listed in Table~\ref{sp1usrstories}.

\begin{table}
\caption{Sprint 1 User Stories}
\centering
\begin{tabular}{ l p{8cm} l l }
\hline 
			&				&\multicolumn{2}{c}{Hours}			\\
 User Story	& Short Description		&Est.		&Act.	                               \\ 
\hline \\ [-2.0ex]
 \bf{A1}     &\bf{Store objects in database}		&\bf{40}		&                                               \\ 
		  &Design							&8			&		\\
		  &Implementation					&20			&		\\
		  &Testing						&8			&		\\
		  &Documentation					&4			&		\\

 \bf{A2}     &\bf{Send real- time messages} 		&\bf{30}		&                  \\ 
		  &Design							&6			&		\\
		  &Implementation					&15			&		\\
		  &Testing						&6			&		\\
		  &Documentation					&3			&		\\

 \bf{A3}     &\bf{Access to domain specific object} 		&\bf{35}		&		     \\ 
		  &Design							&15			&		\\
		  &Implementation					&12			&		\\
		  &Testing						&4		&		\\
		  &Documentation					&4			&		\\

 \bf{G3}     &\bf{Graphical web- application and console}		&\bf{45}		&		     \\ 
		  &Design							&15			&		\\
		  &Implementation					&20			&		\\
		  &Testing						&4			&		\\
		  &Documentation					&6			&		\\

 \bf{D1}	   &\bf{Add a new book}		&\bf{25}		&		     \\
		  &Design							&5			&		\\
		  &Implementation					&12			&		\\
		  &Testing						&6			&		\\
		  &Documentation					&2			&		\\

 \bf{D5}	   &\bf{List all the books in the system}		&\bf{25}		&		     \\
		  &Design							&5			&		\\
		  &Implementation					&12			&		\\
		  &Testing						&6			&		\\
		  &Documentation					&2			&		\\
\hline 
		  &\bf{Total:}			&\bf{200}		&		\\
\hline
\end{tabular}
\label{table:sp1usrstories}
\end{table}

\section{Design}


\section{Implementation}

\subsection{RESTful API}
We decided to expose the contents of the database on the central server to the clients through a RESTful API that is served over HTTP. REST is an abbreviation for REpresentational State Transfer, and it basically allows you to get information and perform action equipped only with URLs and standard HTTP methods like GET and POST. The point of REST is having one standard interface for any service. Instead of exposing an interface which has methods, you only expose 4 methods; create, update, read and delete.  You use the URL to describe what object you are performing the action on.

Below each resource is explained in detail, in addition example code with jQuery(JavaScript) will be supplied.

\subsubsection{Base URL}
The base URL for REST API is: http://netlight.dlouho.net:9004/api/

\subsubsection{Get a list of all books}
Description: Returns a list of all the books currently stored in the system 		\\
\newline
Resource URL: http://netlight.dlouho.net:9004/api/books	\\
HTTP Methods: GET		\\
Response format: json	\\
Parameters: None		\\
\newline
Request Example:		\\
GET			http://netlight.dlouho.net:9004/api/books 	\\
\newline
Response:
\begin{verbatim}
[
    {
        "_id": "506b6445b107d7567a000001",
        "author": "An author",
        "title": "Book1"
    },
    {
        "_id": "506c91a1b107d7567a000004",
        "author": "Another author",
        "title": "Book2"
    }
]
\end{verbatim}
Example call in jQuery:
\begin{verbatim}
$.get(‘http://netlight.dlouho.net:9004/api/books’, function(response){
	//Callback function
});
\end{verbatim}

\subsubsection{Add a book to the database}
Description: Adds a book to the database with the supplied parameters. The created book object with a text identifier is returned as a repsonse. 		\\
\newline
Resource URL: http://netlight.dlouho.net:9004/api/books	\\
HTTP Methods: POST		\\
Response format: json	\\
Parameters: None		\\
\newline
Data:
\begin{itemize}

\item title(required): The title of the book that is to be added. Example values: "Title", "A Book".

\item author(required):The author of the book that is to be added. Example values: "Author", "Another Author".

\end{itemize}
Request Example:		\\
POST		http://netlight.dlouho.net:9004/api/books	\\
POST Data	title="Title", author="Author"
\newline
Response:
\begin{verbatim}
[
    {
        "_id": "506b6445b107d7567a000001",
        "author": "Author",
        "title": "Title"
    }
]
\end{verbatim}
Example call in jQuery:
\begin{verbatim}
$.ajax({
  type: 'POST',
  url: ‘http://netlight.dlouho.net:9004/api/books’,
  data: { author:”Author”, title: “Title”},
  success: function(response){
  	//Add book to local storage
  },
  dataType: ‘json’
});
\end{verbatim}

\subsubsection{Get a single book by id}
Description: Returns a single book, specieifed by the id parameter		\\
\newline
Resource URL: http://netlight.dlouho.net:9004/api/books/:id	\\
HTTP Methods: GET		\\
Response format: json	\\
\newline
Parameters: 
\begin{itemize}

\item id(required): This is a text identifier which is used to identify the book in the database. This is created by the database on insertion, and returned to the user. Example value: "506b6445b107d7567a000001"

\end{itemize}
Request Example:		\\
GET		http://netlight.dlouho.net:9004/api/books/506b6445b107d7567a000001	\\
\newline
Response:
\begin{verbatim}
[
    {
        "_id": "506b6445b107d7567a000001",
        "author": "Author",
        "title": "Title"
     }
]
\end{verbatim}
Example call in jQuery:
\begin{verbatim}
$.get(‘http://netlight.dlouho.net:9004/api/books/506b6445b107d7567a000001’, function(response){
	//Callback function
});
\end{verbatim}


\subsubsection{Update a single book by id}
Description: Updates a book with the new values, specified by the supplied id parameter. Returns the updated book object.	\\
\newline
Resource URL: http://netlight.dlouho.net:9004/api/books/:id	\\
HTTP Methods: PUT		\\
Response format: json	\\
Data format: json		\\
Parameters: 			\\
\begin{itemize}

\item id(required): This is a text identifier which is used to identify the book in the database. This is created by the database on insertion, and returned to the user. Example value: "506b6445b107d7567a000001"

\end{itemize}
Data:
\begin{itemize}

\item title(required): The title of the book that is to be added. Example values: "Title", "A Book".

\item author(required):The author of the book that is to be added. Example values: "Author", "Another Author".

\end{itemize}
Request Example:		\\
PUT 		http://netlight.dlouho.net:9004/api/books/506b6445b107d7567a000001	\\
PUT Data: title="NewTitle", author="NewAuthor"
\newline
Response:
\begin{verbatim}
[
    {
        "_id": "506b6445b107d7567a000001",
        "author": "NewAuthor",
        "title": "NewTitle"
     }
]
\end{verbatim}
Example call in jQuery:
\begin{verbatim}
$.ajax({
  type: 'PUT',
  url: ‘http://netlight.dlouho.net:9004/api/books/506b6445b107d7567a000001’,
  data: { author:”NewAuthor”, title: “NewTitle”},
  success: function(response){
  	//Change book attributes in local storage
  },
  dataType: ‘json’
});
\end{verbatim}

\subsubsection{Delete a book by id}
Description: Deletes a book, specified by the supplied id parameter.	\\
\newline
Resource URL: http://netlight.dlouho.net:9004/api/books/:id 	\\
HTTP Methods: DELETE		\\
Parameters: 			
\begin{itemize}

\item id(required): This is a text identifier which is used to identify the book in the database. This is created by the database on insertion, and returned to the user. Example value: "506b6445b107d7567a000001"

\end{itemize}
Request Example:		\\
DELETE	http://netlight.dlouho.net:9004/api/books/506b6445b107d7567a000001	\\
\newline
Example call in jQuery:
\begin{verbatim}
$.ajax({
  type: 'DELETE',
  url: ‘http://netlight.dlouho.net:9004/api/books/5069868335f41ce71a000001’, 
  success: function(response){
  
  },
  dataType: ’json’
});
\end{verbatim}


\section{Testing}
This section will present the tests performed during the first sprint and thier result

\subsection{Test Results}
We performed a total of 10 test cases during this sprint; TID01-10. The results are listed in Table~\ref{sp1testresults}. The test cases themselves can be found in appendix(TBA).

\begin{table}
\caption{Sprint 1 Test Results}
\centering
\begin{tabular}{ l p{13cm} }

\hline 
Item			&Description		\\
\hline \\ [-2.0ex]

\bf{TestID}		&\bf{TID01}			\\
Description	&Storing objects in a database on the central server	\\
Tester		&Øystein Heimark	\\
Date			&04/10 - 2012	\\
Result		&Success				\\
\hline \\ [-2.0ex]

\bf{TestID}		&\bf{TID02}			\\
Description	&Retrieving objects from the database on the central server	\\
Tester		&Øystein Heimark	\\
Date			&04/10 - 2012	\\
Result		&Success			\\
\hline \\ [-2.0ex]

\bf{TestID}		&\bf{TID03}			\\
Description	&Sending real- time messages from server to client	\\
Tester		&Øystein Heimark	\\
Date			&04/10 - 2012	\\
Result		&Success				\\
\hline \\ [-2.0ex]

\bf{TestID}		&\bf{TID04}			\\
Description	&Alerting clients that there has been added a book to the central database on the server	\\
Tester		&Øystein Heimark	\\
Date			&04/10 - 2012	\\
Result		&Success				\\
\hline \\ [-2.0ex]

\bf{TestID}		&\bf{TID05}			\\
Description	&Verifying that domain specific objects are available through the console	\\
Tester		&Øystein Heimark	\\
Date			&04/10 - 2012	\\
Result		&Success				\\
\hline \\ [-2.0ex]

\bf{TestID}		&\bf{TID06}			\\
Description	&Verifying that there is a console and a graphical interface present on each page\\
Tester		&Øystein Heimark	\\
Date			&04/10 - 2012	\\
Result		&Success			\\
\hline \\ [-2.0ex]

\bf{TestID}		&\bf{TID07}			\\
Description	&Adding a new book to the system with the graphical web- application	\\
Tester		&Øystein Heimark	\\
Date			&04/10 - 2012	\\
Result		&Success			\\
\hline \\ [-2.0ex]

\bf{TestID}		&\bf{TID08}			\\
Description	&Adding a new book to the system with the console	\\
Tester		&Øystein Heimark	\\
Date			&04/10 - 2012	\\
Result		&Success				\\
\hline \\ [-2.0ex]

\bf{TestID}		&\bf{TID09}			\\
Description	&Listing all the books currently in the system using the graphical web- application	\\
Tester		&Øystein Heimark	\\
Date			&04/10 - 2012	\\
Result		&Success				\\
\hline \\ [-2.0ex]

\bf{TestID}		&\bf{TID10}			\\
Description	&Listing all the books currently in the system using the console	\\
Tester		&Øystein Heimark	\\
Date			&04/10 - 2012	\\
Result		&Success			\\
\hline
\end{tabular}
\label{table:sp1testresults}
\end{table}

\subsection{Test Evaluation}
All our tests passed on the first attempt, without any comlications to speak of. The likely cause of this is that we chose to implement a basic protoype for this sprint, with basic functionality all around. There weren't many comlicated components that had to be implemented, and the interfaces between the components were also pretty straight forward. The fact that we performed all of the tests towards the end of the sprint, when all the different components were completed, may also have been a contributing factor. In doing this we avoided getting errors and failed tests because some components were yet to be implemented.

\section{Customer Feedback}


\section{Evaluation}