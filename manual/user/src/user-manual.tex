\documentclass[10pt,a4paper,oneside]{report}

\usepackage[section] {placeins}

\usepackage[norsk,english]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\selectlanguage{english}

\usepackage{graphicx}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{wrapfig}
\usepackage{pbox}

\usepackage{fullpage}
\usepackage{verbatim}
\usepackage{url}

\usepackage[section]{placeins}

\fontfamily{ptm}\selectfont

\usepackage{hyperref}
\hypersetup{
    bookmarks=true,
    unicode=true,
    pdftoolbar=true,
    pdfmenubar=true,
    pdffitwindow=false,
    pdfstartview={FitH},
    pdftitle={Wonsole Administrator Manual},
    pdfauthor={Ivo DLouhy},
    pdfsubject={Wonsole User Manual},
    %pdfcreator={Creator},
    %pdfproducer={Producer},
    pdfkeywords={ntnu} {customer-driven-project} {wonsole} {manual},
    pdfnewwindow=true,
    colorlinks=true,
    linkcolor=blue,
    citecolor=red,
    filecolor=blue,
    urlcolor=blue
}


\bibliographystyle{plain}

\begin{document}

\thispagestyle{empty}
\begin{center}
	\vspace{\stretch{0.7}}
	{\Huge Wonsole} \\
	\medskip
	{\LARGE The new web console for power users} \\ 
	\bigskip
	{\Huge User Manual} \\ 
	\vspace{\stretch{0.3}}
	\includegraphics[width=2.5in]{image/logo-ntnu.pdf} \\
	\includegraphics[width=2.5in]{image/logo-netlight.png}
\end{center}
{\Large \textsc{Customer Driven Project}} \\
{\large \today \\Team: Ivo Dlouhy, Martin Havig, Ã˜ystein Heimark, Oddvar Hungnes}
\newpage

\setcounter{tocdepth}{1}
\tableofcontents
\clearpage
\listoffigures


\chapter{Introduction}
This document describes how to use the Wonsole application. It contains a user
tutorial as well as command refence.

\chapter{Basics}
User interface for wonsole is minimal a simple, so that the funcionality gets
presented in a clear way. If you see the main screen in the
picture \ref{wonsole2-00}, on the left hand side, there is a GUI - Graphical
User Interface - this is where data get presented as graphics. On the right hand side, there is a console window. This is a place
where user can input the commands and send the commands to the system by
pressing enter.

By default the list of available databases is displayed in GUI and
command prompt in console.


\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-00.png}
\caption{Main screen}
\label{wonsole2-00}
\end{figure}

\chapter{Tutorial}

\section{Database}
The most basic command in Wonsole is the command to open, or switch database. It
has this format:
\begin{verbatim}
db DATABASE
\end{verbatim}
Where DATABASE is the name of the database to open. Databases are listed in GUI
and they can be opened by clicking at the name too.

After issuing the command, the database contents are displayed in GUI, see
picture \ref{wonsole2-02}.
Wonsole uses document oriented database, so it is list of documents indexed by numbers.
From each document the title attribute is displayed as preview.


\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-02.png}
\caption{Database open}
\label{wonsole2-02}
\end{figure}

Same command can be used to switch the database anywhere in the workflow as in
picture \ref{wonsole2-04}.

\textit{Note: All uncommited changes are lost when switching the database.}

\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-04.png}
\caption{Database switch}
\label{wonsole2-04}
\end{figure}

\section{Log}
\textit{Note: Developers only.}

\section{Print}
Command print is available to display data in plaintext instead of using GUI.
It's syntax is very simple - it has one attribute: variable or data to print.
\begin{verbatim}
print DATA
\end{verbatim}
Command loads the data, converts it into text and prints in the console as ssen
in picture \ref{wonsole2-10}.

\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-10.png}
\caption{Print}
\label{wonsole2-10}
\end{figure}



\section{View}
Oposite of the print command there is view. It displays the complex variable in
the GUI.
\begin{verbatim}
view VARIABLE
\end{verbatim}

\section{JavaScript evaluatuion}
Wonsole includes complete JavaScript language to the command set. If user issues
acommand, that is not recognized as the Wonsole command, this input gets
evaluated as JavaScript. You can for example issue a helper command, that does
some required functionality not supported by Wonsole and than continue using
default Wonsole commands, JavaScript language is 100% integrated into Wonsole.

\begin{verbatim}
var new = "New variable" //Javascript
print variable
"New variable"
\end{verbatim}

This is an example of creating a new JavaScript variable and using it in simple
Wonsole command, demonstration on picture \ref{wonsole2-15}.

\textit{Note: This is advanced functionality. JavaScript language is very
complex and it is the user full responsibility to use it in a safe, suitable
way.}
 

\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-15.png}
\caption{Javascript integration}
\label{wonsole2-15}
\end{figure}

\section{Quiet}
When Wonsole displays a list of documents saved in the database (see command
db) by default it uses quiet mode. In quiet mode, it displays only object index and
value of the title attribute as a object identification as you can see in
picture \ref{wonsole2-18}.

\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-18.png}
\caption{Quiet mode on}
\label{wonsole2-18}
\end{figure}

\begin{verbatim}
quiet
\end{verbatim}

You can toggle preview mode by using command quiet. When toggled off, all
attributes of the object are displayed - but only the simple data types. If the
atribute is complex, the Object keyword is displayed instead, see picture
\ref{wonsole2-20}.

\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-20.png}
\caption{Quiet mode off}
\label{wonsole2-20}
\end{figure}


\section{Navigtion in list of documents}

\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-24.png}
\caption{Docs array}
\label{wonsole2-24}
\end{figure}


\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-26.png}
\caption{Docs indexing}
\label{wonsole2-26}
\end{figure}


\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-30.png}
\caption{Document opening and switching}
\label{wonsole2-30}
\end{figure}


\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-32.png}
\caption{Doc object}
\label{wonsole2-32}
\end{figure}


\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-38.png}
\caption{Modification of doc}
\label{wonsole2-38}
\end{figure}



\section{Transactions: Commit and Rollback}
\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-39.png}
\caption{Commit}
\label{wonsole2-39}
\end{figure}


\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-43.png}
\caption{Rollback}
\label{wonsole2-43}
\end{figure}


\section{Operating with objects: Add and Remove}
\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-48.png}
\caption{Add}
\label{wonsole2-48}
\end{figure}

\begin{figure}
\centering
\includegraphics[width=\textwidth]{screenshot/wonsole2/wonsole2-55.png}
\caption{Add and modify}
\label{wonsole2-55}
\end{figure}



\chapter{Appendices}
\section{Command reference}
%\begin{verbatim}

\begin{table}
\centering
\begin{tabularx}{\textwidth}{ | l | X | l | }
\hline
\textbf{command} & \textbf{description} & \textbf{example} \\ \hline 
db DATABASE	& opens database DATABASE & db books \\ \hline
docs & switches view to documents & docs \\ \hline
doc INDEX & opens document at INDEX & doc 0 \\ \hline
commit & commits the changes to database & commit \\ \hline
rollback & rollbacks the changes & rollback \\ \hline
refresh & refreshes the UI & refresh \\ \hline
clear & clears the console & clear \\ \hline
print & VARIABLE	prints the variable VARIABLE & print docs \\ \hline
quiet & toggles list verbosity, default: on & quiet \\ \hline
log & toggles log visibility, default: off & log \\ \hline
remove INDEX & removes object at index INDEX & remove 0 \\ \hline
remove JSON & removes object specified by JSON & remove  \{"id":1231232\} \\ \hline
add JSON & adds object specified by JSON & add \{"title" : "New book"\} \\ \hline
seteach ARRAY ATTRIBUTE VALUE & sets (creates if necessary) ATTRIBUTE in object in ARRAY to VALUE & seteach docs author "Unknown" \\ \hline
foreach ARRAY CODE & executes the CODE for each item of ARRAY & foreach docs price=price*10 \\ \hline
filter ARRAY ATTRIBUTE VALUE & filters the ARRAY with VALUE of ATTRIBUTE & filter docs  title Report \\ \hline
script ARRAY & executes the ARRAY of commands specified by string & script ["clear", "db books"] \\ \hline
\end{tabularx}
\caption{Command reference}
\label{table:command-reference}
\end{table}
%\end{verbatim}




%\chapter{screenshots}
%\include{screenshot}
\end{document}
